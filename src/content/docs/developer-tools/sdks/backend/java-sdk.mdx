---
page_id: 75cb2073-fe1c-4462-a454-bb782a4a66a4
title: Java SDK Current
sidebar:
  order: 9
relatedArticles:
  - 02d02820-92da-4721-9a91-222c9b095869
head:
  - tag: meta
    attrs:
      property: "og:image"
      content: "https://kinde.com/assets/images/open-graph/DOCS-SSI-SDK_Java.png"
---

This SDK v2.0.0 and current.

New to Kinde? [Get started here](/get-started/guides/first-things-first/)

<Aside>

If you’re using version 1 see [Java SDK V1](/developer-tools/sdks/backend/java-sdk-v100/)

</Aside>

# Kinde Core
The Kinde Java SDK allows developers to connect their Java app to Kinde.

You can also find our [Java docs](https://github.com/kinde-oss/kinde-java-sdk) and [Java starter kit](https://github.com/kinde-starter-kits/kinde-java-starter-kit) in GitHub.

## Supported versions

The SDK is officially only supported for version 17 or later of Java.

## Register with Kinde

If you haven’t already created a Kinde account, [register for free here](https://app.kinde.com/register) (no credit card required). Registration gives you a Kinde domain, which you will need to get started. e.g. `yourapp.kinde.com`.

## Install from Source

Clone the SDK repository

```shell
git clone https://github.com/kinde-oss/kinde-java-sdk.git
```

Create a JAR file of your SDK project using the below command:

```bash
cd kinde-java-sdk
mvn clean install
```

### Maven users

Kinde’s SDK is available through [Maven](https://search.maven.org/). To install it, simply add the following line to your `pom.xml`

```java
<dependency>
  <groupId>com.kinde</groupId>
  <artifactId>java-sdk</artifactId>
  <version>2.0.0</version>
</dependency>
```

### Gradle users

Add this dependency to your project’s build file:

```bash
repositories {
    mavenCentral()     // Needed if the ‘kinde’ jar has been published to maven central.
    mavenLocal()       // Needed if the ‘kinda’ jar has been published to the local maven repo.
  }

  dependencies {
     implementation "com.kinde:java-sdk:2.0.0”
  }
```

### Library Usage

#### Setup the following environment variables
The following basic environmental variables are required at a mimimum for connecting to Kinde. This will enable the development of a M2M client service.
```shell
export KINDE_DOMAIN=https://<replace>.kinde.com # This is the domain you setup at kinde
export KINDE_CLIENT_ID=<replace> # the id for the client connecting to Kinde
export KINDE_CLIENT_SECRET=<replace> # the secret used to authenticate the client against Kinde
```
If a user login is to be validated against Kinde a redirect uri must be provided.
```shell
export KINDE_REDIRECT_URI=http://localhost:8080/kinde-j2ee-app/login
```
The redirect URI/URL used post successfull login. It is the URL that the PKCE client CODE will be set to. A query parameter of ?code='value' must be processed

#### Setup .env environmental files.
The Kinde library supports .env files. The must be located in the directory from which the application is executed.
```shell
KINDE_DOMAIN=https://<replace>.kinde.com
KINDE_CLIENT_ID=<replace>
KINDE_CLIENT_SECRET=<replace>
KINDE_REDIRECT_URI=http://localhost:8080/kinde-j2ee-app/login
```

#### Server Example
In order to make a M2M server token request onto Kinde first setup the appropriate environmental variables
##### By shell export
Run these exports before running your service.
```shell
export KINDE_DOMAIN=https://<replace>.kinde.com # This is the domain you setup at kinde
export KINDE_CLIENT_ID=<replace> # the id for the client connecting to Kinde
export KINDE_CLIENT_SECRET=<replace> # the secret used to authenticate the client against Kinde
```
##### By .env file config
Place this .env file in the directory from which you run your service.
```shell
KINDE_DOMAIN=https://<replace>.kinde.com
KINDE_CLIENT_ID=<replace>
KINDE_CLIENT_SECRET=<replace>
```
##### Programmatic configuration
If you want to pass in configuration programmatically the KindeClientBuilder supports this use the following approach.
```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .domain("<replace>")
        .clientId("<replace>")
        .clientSecret("<replace>")
        .build();
```

##### Java Code to retrieve a M2M token.
The example below details how to implement a server level token request. This is needed for M2M communication and authorization.
```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
KindeClientSession kindeClientSession = kindeClient.clientSession();
List<KindeToken> tokens = kindeClientSession.retrieveTokens();
        
```

### User Code Authorization Example (PKCE)
Inorder to authenticate a user on a client the appropriate configuration must be in place.

##### By shell export
Run these exports before running your service.
```shell
export KINDE_DOMAIN=https://<replace>.kinde.com # This is the domain you setup at kinde
export KINDE_CLIENT_ID=<replace> # the id for the client connecting to Kinde
export KINDE_CLIENT_SECRET=<replace> # the secret used to authenticate the client against Kinde
export KINDE_REDIRECT_URI=openid # the open id
```
##### By .env file config
Place this .env file in the directory from which you run your service.
```shell
KINDE_DOMAIN=https://<replace>.kinde.com
KINDE_CLIENT_ID=<replace>
KINDE_CLIENT_SECRET=<replace>
KINDE_REDIRECT_URI=<replace>
KINDE_SCOPES=openid
```
##### Programmatic configuration
If you want to pass in configuration programmatically the KindeClientBuilder supports this use the following approach.
```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .domain("<replace>")
        .clientId("<replace>")
        .clientSecret("<replace>")
        .redirectUri("replace")
        .addScope("openid")
        .build();
```

##### Java code to generate the redirect URL
Before the PKCE code can be processed a user must be direct to Kinde to login. The client library can generate this URL as follows
```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
KindeClientSession kindeClientSession = kindeClient.clientSession();
AuthorizationUrl authorizationURL = kindeClientSession.authorizationUrl();
```
The AuthorizationUrl contains the url and CodeVerify information. If using a code grant the code verify needs to be stored for the redirct call. This can be done using the J2EE session. Here is an example
```java
req.getSession().setAttribute("AuthorizationUrl",authorizationUrl);
resp.sendRedirect(authorizationUrl.getUrl().toString());
```

##### Code to request tokens upon redirect
If it is a code auth then the AuthorizationUrl needs to be retrieved.
```java
AuthorizationUrl authorizationUrl = (AuthorizationUrl)req.getSession().getAttribute("AuthorizationUrl");
```
The token request looks like the following.
```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
List<KindeToken> tokens = kindeClient.getKindeClient().initClientSession(code,authorizationUrl).retrieveTokens();
```
# Kinde-J2EE API

## Development

This is the Kinde J2EE Library, and contains the core components needed to manage a client connection to the Kinde from a J2EE servlet container.

## Project Dependancies

### Maven
In order to use this SDK include following POM dependancy.
```xml
    <dependency>
      <groupId>com.kinde</groupId>
      <artifactId>kinde-j2ee</artifactId>
      <version>2.0.0</version>
    </dependency>
```
### Gradle
In order to use the SDK with a Gradle build process please use the following dependancy.
```groovy
    configuration('com.kinde:kinde-j2ee:2.0.0')
```

## Project Configuration
The web.xml file needs to be configured to utilize these servlets.

```xml
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee
         http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"
         version="3.1">
    <servlet>
        <servlet-name>KindeLoginServlet</servlet-name>
        <servlet-class>com.kinde.servlet.KindeLoginServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>KindeLogoutServlet</servlet-name>
        <servlet-class>com.kinde.servlet.KindeLogoutServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>KindeRegisterServlet</servlet-name>
        <servlet-class>com.kinde.servlet.KindeRegistrationServlet</servlet-class>
    </servlet>
    <filter>
        <filter-name>KindeLoginFilter</filter-name>
        <filter-class>com.kinde.filter.KindeLoginFilter</filter-class>
    </filter>
    <servlet-mapping>
        <servlet-name>KindeLoginServlet</servlet-name>
        <url-pattern>/login</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>KindeRegisterServlet</servlet-name>
        <url-pattern>/register</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>KindeLogoutServlet</servlet-name>
        <url-pattern>/logout</url-pattern>
    </servlet-mapping>
    <filter-mapping>
        <filter-name>KindeLoginFilter</filter-name>
        <url-pattern>/private/*</url-pattern> <!-- Apply to all URLs or specify specific patterns -->
    </filter-mapping>
</web-app>
```
## J2EE Servlets and Filters
The above project configuration sets up an example web.xml, using the Kinde-J2EE servlets and filters. These are all you need to secure a j2ee project and can be used with Spring Boot or Quarkus:
1. KindeLoginServlet: The servlet responsible for managing a login. It manages the re-direct to the Kinde Domain and and in the example above is setup to run from /login with the J2EE context.
2. KindeRegisterServlet: This servlet is responsible for triggering the registration flow. It redirects to the configured Kinde Domain and provides Kinde with the flags to indicate this is a user registration flow.
3. KindeLogoutServlet: This servlet is responsible for triggering the logout flow, and for removing from the application any active session for the user.
4. KindeLoginFilter: This is a J2EE filter and acts as a gateway to the private section of your site. It will deny users access to anything its scope covers unless they have succesfully authenticated. It also sets up roles or permissions for the logged in user.


## Environmental Configuration
Configuration can either be performed by exports or through a .env file

### Shell
```shell
export KINDE_DOMAIN=https://<replace>.kinde.com # This is the domain you setup at kinde
export KINDE_CLIENT_ID=<replace> # the id for the client connecting to Kinde
export KINDE_CLIENT_SECRET=<replace> # the secret used to authenticate the client against Kinde
export KINDE_REDIRECT_URI=http://localhost:8080/kinde-j2ee-app/login
```

### .env
The Kinde library supports .env files. The must be located in the directory from which the application is executed.
```shell
KINDE_DOMAIN=https://<replace>.kinde.com
KINDE_CLIENT_ID=<replace>
KINDE_CLIENT_SECRET=<replace>
KINDE_REDIRECT_URI=http://localhost:8080/kinde-j2ee-app/login
```



# Kinde-Management API

The Management API provides a means to access the Kinde Management endpoints. This enables the development of features to control an application or organisations permissions via bespoke code and features rather than through the admin interface.
## Development

This is the Kinde Management Library, which contains the components needed to access the Kinde Management API. It includes an OpenAPI-generated stub and a `KindeAdminSession` tool that instantiates the `ApiClient` using OIDC details.

## Project Dependancies

### Maven

To use this SDK, include the following dependency in your `pom.xml`:

   ```xml
   <dependency>
      <groupId>com.kinde</groupId>
      <artifactId>kinde-management</artifactId>
      <version>2.0.0</version>
   </dependency>
   ```

### Gradle

For Gradle, add the following dependency to your build file:

   ```groovy
   implementation('com.kinde:kinde-management:2.0.0')
   ```

## Building the SDK from Source

1. Clone the repository to your machine:

   ```bash
   git clone https://github.com/kinde-oss/kinde-java-sdk
   ```

2. Go into the project:

   ```bash
   cd kinde-java-sdk
   ```

3. Install the dependencies:

   ```bash
   mvn clean install
   ```

## Documentation

For details on integrating this SDK into your project, head over to the Kinde docs and see the Java SDK documentation.

Maven will automatically download the dependency from your local repository and make it available in your project.

### Library Usage

#### Setup the following environment variables
The following basic environmental variables are required at a mimimum for connecting to the Kinde Management API.
```shell
export KINDE_DOMAIN=https://<replace>.kinde.com # This is the domain you setup at kinde
export KINDE_CLIENT_ID=<replace> # the id for the client connecting to Kinde
export KINDE_CLIENT_SECRET=<replace> # the secret used to authenticate the client against Kinde
export KINDE_SCOPES=openid # the scope as we are using an OpenID connection
export KINDE_AUDIENCE=https://<replace>.kinde.com/api # the audience we need access to
```
#### Setup .env environmental files.
The Kinde library supports .env files. The must be located in the directory from which the application is executed.
```shell
KINDE_DOMAIN=https://burntjam.kinde.com
KINDE_CLIENT_ID=<replace>
KINDE_CLIENT_SECRET=<replace>
KINDE_SCOPES=openid
KINDE_AUDIENCE=https://<replace>.kinde.com/api
```

##### Programmatic configuration
If you want to pass in configuration programmatically the KindeClientBuilder supports this use the following approach.
```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .domain("<replace>")
        .clientId("<replace>")
        .clientSecret("<replace>")
        .addScope("<replace>")
        .addAudience("https://<replace>.kinde.com/api")
        .build();
```

##### Java Code to get an ApiClient
This example gets an ApiClient instance and then creates an ApplicationApi instance using the ApiClient.
```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
KindeAdminSession kindeAdminSession = KindeAdminSessionBuilder.builder().client(kindeClient).build();
ApiClient apiClient = kindeAdminSession.initClient();
ApplicationsApi applicationsApi = new ApplicationsApi(apiClient);
```


# Kinde API
Kinde API is provided via the Kinde-Management library. It provides access to to the Management functions Kinde Exposes.

## Test sign up

Register your first user by signing up yourself. You’ll see your newly registered user on the **Users** page in Kinde.

## Get user information
It iw possible to retrieve the user information using an AccessToken. In the example below an access token is passed to init a client session.
```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
KindeClientSession kindeClientSession = kindeClient.getKindeClient().initClientSession(accessToken);
UserInfo userInfo = kindeClientSession.retrieveUserInfo();
```

Retrieve the user details for the code that has been authenticated.
```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
KindeClientSession kindeClientSession = kindeClient.getKindeClient().initClientSession(code,authorizationUrl);
UserInfo userInfo = kindeClientSession.retrieveUserInfo();
```

### User profile
The UserInfo object retrieved above contains the following member variables.

| Variables   | Description                                 |
--------------|---------------------------------------------|
| userInfo    | The nimbus user object for more information |
| subject     | The subject of the user object              |
| id          | The id of the user on Kinde                 |
| givenName   | The given or first name of the user         |
| familyName  | The family or surname of the user on Kinde  |
| email       | The email address of the user on Kinde      |
| picture     | The picture of the user on Kinde            |

### User Permissions

#### Token permissions
The user permissions are available in two different ways. One is from the IDToken as a claim, the other is via the Management API.

```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
List<KindeToken> tokens = kindeClient.getKindeClient().initClientSession(code,authorizationUrl).retrieveTokens();
List<String> permissions = new ArrayList<String>();
tokens.stream().filter(token->token instanceof AccessToken).forEach(token->{permissions.addAll(token.getPermissions());});

```


#### Management API
The permissions are up to you to define in the Kinde admin portal. The code below provides an example on how to retrieve the permissions from the portal using the management API.

```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
KindeAdminSession kindeAdminSession = KindeAdminSessionBuilder.builder().client(kindeClient).build();
ApiClient apiClient = kindeAdminSession.initClient();
OrganisationApi organisationApi = new OrganisationApi(apiClient);

// org code is the org that the user is associated with
// user id is the user
// expanded
organisationApi.getOrganizationUserPermissions(orgCode, userId, expand)
```

#### J2EE

If the KindeLoginFilter is configured it is possible to use the j2ee methods to determine if a user is in a role or not.
```java
req.isUserInRole(role);
```


## Organizations
The organisations for a user can be retrieved from the ID token.

```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
List<KindeToken> tokens = kindeClient.getKindeClient().initClientSession(code,authorizationUrl).retrieveTokens();
List<String> organisations = new ArrayList<String>();
tokens.stream().filter(token->token instanceof AccessToken).forEach(token->{organisations.addAll(token.getOrganisations());});

// do something with the organisations

```

### Create an organization
Using the OrganisationApi provided by Kinde-Management it is possible to create a new organisation.

```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
KindeAdminSession kindeAdminSession = KindeAdminSessionBuilder.builder().client(kindeClient).build();
ApiClient apiClient = kindeAdminSession.initClient();
OrganisationApi organisationApi = new OrganisationApi(apiClient);

// org code is the org that the user is associated with
// user id is the user
// expanded
organisationApi.createOrganization(new CreateOrganizationRequest().name("test"));
```


## Scopes

### Default scopes

By default, Kinde requests the following scopes:

- profile
- email
- offline
- openid

### Getting claims


## Feature flags


## Token storage in the authentication state


## API reference - Types

### `host`

Either your Kinde instance URL or your custom domain. e.g. `https://yourapp.kinde.com/`

Type: string

Required: yes

### `redirectUri`

The URL that the user will be returned to after authentication.

Type: string

Required: yes

### `clientId`

The unique ID of your application. Get this from the Application details section in Kinde.

Type: string

Required: yes

### `clientSecret`

The unique client secret of your Kinde application. Get this from the Application details section in Kinde.

Type: string

Required: Not required if you use OAuth PKCE

### `grantType`

The grantType for Kinde Authorization varies for each OAuth 2 flow. You can use:

- Authorization code: GrantType._AUTHORIZATION_CODE_.getValue(): Intended for confidential clients, e.g. web-servers.
- Authorization code with PKCE: GrantType._PKCE_.getValue(): Extension for public clients, e.g. single page web applications and mobile applications, and confidential clients, e.g. web-servers. Note that the `code_challenge` and `code_challenge_method` parameters are also required for this grant type.
- Client credentials flow: GrantType._CLIENT_CREDENTIALS_.getValue(): Intended for confidential clients where machine-to-machine communication is required.

Type: string

Required: yes

### `logoutRedirectUri`

Where your user will be redirected when they sign out.

Type: string

Required: yes

### `scope`

The scopes to be requested from Kinde.

Type: string

Required: No

Default: openid profile email offline

### `additionalParameters`

Additional parameters that will be passed in the authorization request.

Type: Map\<String, Object>

Required: No

Default: new Hashmap\<>()

### `additionalParameters - audience`

The audience claim for the JWT.

Type: string

Required: No

## API reference - Kinde methods

### `login`
The login process generates an authorization url. This can be used by the browser to initiate the login on Kinde, and once completed the user will be re-directed back.
```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
KindeClientSession kindeClientSession = kindeClient.getKindeClient().clientSession();
AuthorizationUrl authorizationURL = kindeClientSession.login();
```

Sending the redirect response using the 
```java
resp.sendRedirect(authorizationUrl.getUrl().toString());
```


### `register`
The register process generates an authorization url. This url can be used to redirect the user to Kinde to register and then get redirected back to complete the PKCE login.
```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
KindeClientSession kindeClientSession = kindeClient.getKindeClient().clientSession();
AuthorizationUrl authorizationURL = kindeClientSession.register();
```

Sending the redirect response using the 
```java
resp.sendRedirect(authorizationUrl.getUrl().toString());
```


### `logout`
The register process generates an authorization url. This can be used by the browser to initiate the login.
```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
KindeClientSession kindeClientSession = kindeClient.getKindeClient().clientSession();
AuthorizationUrl authorizationURL = kindeClientSession.logout();
```

Sending the redirect response using the 
```java
resp.sendRedirect(authorizationUrl.getUrl().toString());
```

### `getToken`
To complete authentication of a user and retrieve their tokens do the following.

```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
List<KindeToken> tokens = kindeClient.getKindeClient().initClientSession(code,authorizationUrl).retrieveTokens();
```

Retrieve a client session for the application and then retrieve the tokens for that client.
```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
List<KindeToken> tokens = kindeClient.getKindeClient().clientSession().retrieveTokens();
```

### `createOrg`
The register process generates an authorization url. This url can be used to redirect the user to Kinde to register and then get redirected back to complete the PKCE login.
```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
KindeClientSession kindeClientSession = kindeClient.getKindeClient().clientSession();
AuthorizationUrl authorizationURL = kindeClientSession.createOrg("Org Value");
```

Sending the redirect response using the 
```java
resp.sendRedirect(authorizationUrl.getUrl().toString());
```


### `getClaim`
Claims are available from the tokens.

```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
List<KindeToken> tokens = kindeClient.getKindeClient().initClientSession(code,authorizationUrl).retrieveTokens();
tokens.stream().filter(token->token instanceof AccessToken).forEach(token->{token.getClaim("key");});
```

The API on the token provides the getClaim method which takes a key name that identifies the claim in the token and returns the json object it refers to.

### `getPermission`
Kinde provides the permissions on the access token. Getting access to these values can be performed either by interrogating the access token or through the use of the J2EE architecture.

#### Get Permissions from the token `getPermissions`
The permissions are available from the token 

```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
List<KindeToken> tokens = kindeClient.getKindeClient().initClientSession(code,authorizationUrl).retrieveTokens();
List<String> permissions = new ArrayList<String>();
tokens.stream().filter(token->token instanceof AccessToken).forEach(token->{permissions.addAll(token.getPermissions());});
```

#### Get Permissions from the J2EE context
If the j2ee KindeLoginFilter is configured in the web application, then the request roles can be used to get the user permissions.
```java
request.isUserInRole("role_name");
```

### `getOrganization`
The organisation can be retrieved from the access token.

```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
List<KindeToken> tokens = kindeClient.getKindeClient().initClientSession(code,authorizationUrl).retrieveTokens();
List<String> organisations = new ArrayList<String>();
tokens.stream().filter(token->token instanceof AccessToken).forEach(token->{permissions.addAll(token.getOrganisations());});
```

### `getUserDetails`
The user details are available either via the AccessToken or via the OAuth2 user info endpoint.

#### Using the Token API
```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
List<KindeToken> tokens = kindeClient.getKindeClient().initClientSession(code,authorizationUrl).retrieveTokens();
List<String> organisations = new ArrayList<String>();
tokens.stream().filter(token->token instanceof AccessToken).forEach(token->{
        // retrieve user information
        // username
        // permissions
        // claims
        // feature flags
        );});
```

#### User profile
If this is not sufficient the OAuth2 user info endpoint can be invoked. This can be done using a Access Token or just after code auth. The following scopes will have to used on the client, `openid, profile, email`.

##### Using the code created client
```java
KindeClientSession kindeClientSession = kindeClient.initClientSession(code, authorizationUrl);
UserInfo userInfo = kindeClientSession.retrieveUserInfo();
assertNotNull(userInfo);
assertNotNull(userInfo.getEmail());
assertNotNull(userInfo.getSubject());
assertNotNull(userInfo.getId());
assertNotNull(userInfo.getPicture());
assertNotNull(userInfo.getGivenName());
assertNotNull(userInfo.getFamilyName());
```

##### Using a token created client
```java
KindeClientSession kindeClientSession = kindeClient2.initClientSession(accessToken);
UserInfo userInfo = kindeClientSession.retrieveUserInfo();
assertNotNull(userInfo);
assertNotNull(userInfo.getEmail());
assertNotNull(userInfo.getSubject());
assertNotNull(userInfo.getId());
assertNotNull(userInfo.getPicture());
assertNotNull(userInfo.getGivenName());
assertNotNull(userInfo.getFamilyName());
```

### `getUserOrganizations`

The organisation can be retrieved from the access token.

```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
List<KindeToken> tokens = kindeClient.getKindeClient().initClientSession(code,authorizationUrl).retrieveTokens();
List<String> organisations = new ArrayList<String>();
tokens.stream().filter(token->token instanceof AccessToken).forEach(token->{permissions.addAll(token.getOrganisations());});
```

### `getFlags`
The flags can be retrieve from the token. Once you have are reference to the AccessToken the getFlag method can be called. This method returns a `Map<String,Object>`

```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
List<KindeToken> tokens = kindeClient.getKindeClient().initClientSession(code,authorizationUrl).retrieveTokens();
tokens.stream().filter(token->token instanceof AccessToken).forEach(token->{
        token.getFlags();
});
```


### `getBooleanFlag`
This method returns a boolean value of the internal flag value.

```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
List<KindeToken> tokens = kindeClient.getKindeClient().initClientSession(code,authorizationUrl).retrieveTokens();
tokens.stream().filter(token->token instanceof AccessToken).forEach(token->{
        token.getBooleanFlag(key);
});
```


### `getStringFlag`
```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
List<KindeToken> tokens = kindeClient.getKindeClient().initClientSession(code,authorizationUrl).retrieveTokens();
tokens.stream().filter(token->token instanceof AccessToken).forEach(token->{
        token.getStringFlag(key);
});
```


### `getIntegerFlag`
The method returns the value for the key in type integer.
```java
KindeClient kindeClient = KindeClientBuilder
        .builder()
        .build();
List<KindeToken> tokens = kindeClient.getKindeClient().initClientSession(code,authorizationUrl).retrieveTokens();
tokens.stream().filter(token->token instanceof AccessToken).forEach(token->{
        token.getIntegerFlag(key);
});
```

If you need help connecting to Kinde, please contact us at [support@kinde.com](mailto:support@kinde.com).
