---
page_id: f197d00e-1fc8-46ed-8290-35773532cd2d
title: Plan cancellation request workflow
sidebar:
  order: 10
relatedArticles:
  - 54e9d131-96a6-4d09-8355-0b748a4cd106
  - d672fca7-6c6a-49f8-85c9-6e86ce99f440
---

Trigger: `user:plan_cancellation_request`

This trigger fires when a plan cancellation request is made. This can be initiated by the user through the Kinde self-serve portal or via the Kinde Management API.

This is not a deprovisioning workflow, this occurs before a cancellation request is processed..

## Example use cases

### Check if customer is eligible to cancel

You may want to check if the customer is eligible to cancel their plan based on certain criteria, such as outstanding payments or minimum contract periods. If they are not eligible, you can prevent the cancellation and notify them.

## Workflow code

### M2M token binding

The [kinde.planCancellationRequest](/workflows/bindings/m2m-token-binding/) binding is used to prevent cancellation requests.

### Sample event object

The main argument provided to your code is the Kinde workflow `event` object which has two keys `request` and `context`. This gives you access to the reason the workflow was triggered. Here's an example:

```json
{
  "request": {
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:135.0) Gecko/20100101 Firefox/135.0",
    "ip": "192.168.0.1"
  },
  "context": {
    "domains": {
      "kindeDomain": "https://example.kinde.com" // Your Kinde domain
    },
    "billing": {
      "currentPlanCode": "pro",
      "agreementId": "agreement_01971a7c5c7bf2d05888a8d6c77d08ce" // the subscription ID in Kinde
    },
    "workflow": {
      "trigger": "user:plan_cancellation_request"
    }
  }
}
```

### Example workflows

Coming soon.
